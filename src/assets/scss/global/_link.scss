:where(a:not([class]), .link) {
	--link-grad-one: 0px;
	--link-grad-two: 1px;

	@media (min-resolution: 120dpi), (-webkit-min-device-pixel-ratio: 1.66), (-moz-min-device-pixel-ratio: 1.66), (min-device-pixel-ratio: 1.66) {
		--link-grad-one: 0.5px;
	}
	@media (min-resolution: 200dpi), (-webkit-min-device-pixel-ratio: 2.5), (-moz-min-device-pixel-ratio: 2.5), (min-device-pixel-ratio: 2.5) {
		--link-grad-one: 0.25px;
	}

	color: var(--theme-link-color);
	text-decoration-line: underline;
	text-decoration-color: var(--theme-link-underline-color, currentColor);
	text-decoration-skip-ink: auto;

	&:where(:hover, :focus) {
		color: var(--theme-link-color-active);
		text-decoration: none;
		text-shadow: 0 0.0625em 0 var(--ctx-bg, transparent);
		background: repeating-linear-gradient(90deg, var(--theme-link-underline-color, transparent) var(--link-grad-one), transparent var(--link-grad-two)) repeat-x 0 100% / 2px
			0.67em;
		box-decoration-break: clone;
	}
}

:is(h1, h2, h3, h4, h5, h6) > :is(a, .heading-anchor, .heading-link) {
	text-decoration: none;
	color: inherit;

	&:is(:hover, :focus) {
		text-decoration-line: underline;
		text-decoration-color: var(--theme-link-underline-color, currentColor);
	}
}
