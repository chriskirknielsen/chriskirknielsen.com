(()=>{var d=document.getElementById("searchform"),h=document.getElementById("q"),s=document.getElementById("results"),g=document.getElementById("search-result-item"),f=document.getElementById("search-results-heading"),c=document.getElementById("search-results-count"),o=null;async function E(){return o!==null?o:await fetch("/search.json").then(e=>e.json()).then(e=>(o=e,e))}var y=async()=>{let e=h.value.toLowerCase().trim();if(e.length<=0)return;d.setAttribute("data-state","changed"),f.hidden=!1,s.innerHTML="<li>Loading\u2026</li>";let l=(await E()).filter(r=>r.title.toLowerCase().includes(e)||r.tags.join(" ").toLowerCase().includes(e));setTimeout(()=>{if(l.length===0){c.innerText="(0)",s.innerHTML="<li>No results found \u{1F622}</li>";return}let r=new DocumentFragment;s.innerHTML="",l.sort((t,n)=>new Date(n.date)-new Date(t.date)),l.forEach(t=>{let n=g.content.cloneNode(!0),u=n.querySelector("time[datetime]"),a=n.querySelector("a[href]"),m=n.querySelector("[data-lang-code]"),i=new Date(t.date).toISOString().split("T").shift();u.setAttribute("datetime",i),u.innerText=i,a.setAttribute("href",t.url),a.setAttribute("hreflang",t.lang),a.innerText=t.title,m.innerText=`(${t.lang})`,r.append(n)}),c.innerText=`(${l.length})`,s.append(r)},100)};d.addEventListener("submit",function(e){return e.preventDefault(),y(),!1});})();
