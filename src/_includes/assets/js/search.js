(()=>{var g=document.getElementById("searchform"),p=document.getElementById("q"),l=document.getElementById("results"),E=document.getElementById("search-result-item"),T=document.getElementById("search-results-heading"),f=document.getElementById("search-results-count"),i=null;async function b(){return i!==null?i:await fetch("/search.json").then(e=>e.json()).then(e=>(i=e,e))}var a=e=>e.replace(/(‘|’)/,"'"),I=async()=>{let e=a(p.value.toLowerCase().trim());if(e.length<=0)return;g.setAttribute("data-state","changed"),T.hidden=!1,l.innerHTML="<li>Loading\u2026</li>";let o=(await b()).filter(t=>a(t.title.toLowerCase()).includes(e)||a(t.summary.toLowerCase()).includes(e)||a(t.tags.join(" ").toLowerCase()).includes(e));setTimeout(()=>{if(o.length===0){f.innerText="(0)",l.innerHTML="<li>No results found \u{1F622}</li>";return}let t=new DocumentFragment;l.innerHTML="",o.forEach(n=>{let d=n.type,r=E.content.cloneNode(!0),y=r.querySelector("[data-page-type]"),c=r.querySelector("time[datetime]"),u=r.querySelector("a[href]"),m=r.querySelector("[data-lang-code]"),h=new Date(n.date).toISOString().split("T").shift(),s="";switch(d){case"_fonts":s="Typeface";break;case"_designs":s="Design";break;case"_projects":s="Project";break;case"_posts":default:s="Blogpost";break}y.innerText=`${s} |`,u.setAttribute("href",n.url),u.setAttribute("hreflang",n.lang),u.innerHTML=n.title,d==="_posts"?(c.setAttribute("datetime",h),c.innerText=h,m.innerText=`(${n.lang})`):(c.hidden=!0,m.hidden=!0),t.append(r)}),f.innerText=`(${o.length})`,l.append(t)},100)};g.addEventListener("submit",function(e){return e.preventDefault(),I(),!1});})();
